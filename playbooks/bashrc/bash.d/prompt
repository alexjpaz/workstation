function __prompt_wrap() {
    local color=$1 # https://i.stack.imgur.com/a2S4s.png
    local character=$2
    # $(tput bold
    echo "\[$(tput setaf $color)\]$character \[$(tput sgr0)\]"
}

function __prompt_get_random_prompt() {
    # https://cutekaomoji.com/animals/bears/
    local arr=()
    arr[0]=$(__prompt_wrap 5 $)
    arr[1]=$(__prompt_wrap 244 ‚ôû )
    arr[2]=$(__prompt_wrap 160 ‚ù§ )
    arr[3]=$(__prompt_wrap 202 ‚òÖ )
    arr[4]=$(__prompt_wrap 202 Œª )
    arr[5]=$(__prompt_wrap 202 '·ïï(·êõ)·ïó' )
    arr[6]=$(__prompt_wrap 5 '¬Ø\_(„ÉÑ)_/¬Ø' )
    arr[7]=$(__prompt_wrap 27 ‚ùØ )
    arr[8]=$(__prompt_wrap 5 ' ï„Å£‚Ä¢·¥•‚Ä¢ î„Å£' )
    arr[9]=$(__prompt_wrap 8 '(‡≤†_‡≤†)' )
    arr[10]=$(__prompt_wrap 160 œü)
    arr[11]=$(__prompt_wrap 5 ' ï ‚Ä¢·¥•‚Ä¢ î')
    arr[12]=$(__prompt_wrap 5 'ùùø')
    arr[13]=$(__prompt_wrap 5 '„ÉΩ(ÔΩÄ–¥¬¥)Ôæâ')
    arr[14]=$(__prompt_wrap 5 '·ï¶(√≤_√≥Àá)·ï§')
    arr[15]=$(__prompt_wrap 1 '‡≤†Áõä‡≤†')
    arr[16]=$(__prompt_wrap 4 '·µî·¥•·µî')
    arr[17]=$(__prompt_wrap 6 '„ÉÖ')
    arr[18]=$(__prompt_wrap 1 '(‚ãã‚ñÇ‚ãå)')

    local p=${arr[$[$RANDOM % ${#arr[@]}]]}
    echo "$p"
}

function __prompt_set_random_prompt() {
    PS1="$(__prompt_get_random_prompt)"
}

if [[ -z $PS1 ]]; then
	INTERACTIVE=nope
else
    PS1="$(__prompt_get_random_prompt)"

    if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
        PS1="\[$(tput setaf 5)\]\h:\\$ \[$(tput sgr0)\]"
      
      SESSION_TYPE=remote/ssh
    else
      case $(ps -o comm= -p $PPID) in
        sshd|*/sshd) SESSION_TYPE=remote/ssh;;
      esac
    fi

    export PS1
fi
